<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">

    <title>Quiz Settings - Geography Genius</title>
    <link rel="stylesheet" href="/css/styles.css">
</head>
<body>

<!-- start header -->
<ul class="h-ul">
    <li class="h-li-icon"><a class="h-a" href="/"><img src="/images/logo-horizontal-new-v3.png" width=200></a></li>
    <li class="h-li"><a class="h-a" href="/geography/americas">Americas</a></li>
    <li class="h-li"><a class="h-a" href="/geography/africa">Africa</a></li>
    <li class="h-li"><a class="h-a" href="/geography/europe">Europe</a></li>
    <li class="h-li"><a class="h-a" href="/geography/asia">Asia</a></li>
    <li class="h-li"><a class="h-a" href="/geography/oceania">Oceania</a></li>
</ul>
<!-- end header -->

<div class="everything">
<h2>Quiz Settings</h2>

<input id="show-score" type="checkbox" id="show-score" name="show-score">
<label for="show-score"> Show calculated score</label><br>
<input id="show-timer"type="checkbox" id="show-timer" name="show-timer">
<label for="show-timer"> Show quiz timer</label><br>
<input id="show-num-correct-guesses"type="checkbox" id="show-num-correct-guesses" name="show-num-correct-guesses">
<label for="show-timer"> Show number of correct guesses</label><br>
<input id="show-num-incorrect-guesses"type="checkbox" id="show-num-incorrect-guesses" name="show-num-correct-incorrect-guesses">
<label for="show-timer"> Show number of incorrect guesses</label><br>
<input onclick="updateSettings()" type="submit" value="Update Settings">

<p id="message"></p>

</div>

<script src="/js/main.js"></script>
<script>

window.onload = loadSettings()

function loadSettings() {
    let values = localStorage.getItem("quiz-settings").split(",")
    for(let i = 0;i < values.length;i++) {
        if(values[i] == "true") {
            values[i] = true
        } else {
            values[i] = false
        }
    }
    console.log(values)
    getElement("show-score").checked = values[0]
    getElement("show-timer").checked = values[1]
    getElement("show-num-correct-guesses").checked = values[2]
    getElement("show-num-incorrect-guesses").checked = values[3]
    console.log(getElement("show-score").checked)
}

function updateSettings() {
    let values = []
    values.push(getElement("show-score").checked)
    values.push(getElement("show-timer").checked)
    values.push(getElement("show-num-correct-guesses").checked)
    values.push(getElement("show-num-incorrect-guesses").checked)

    localStorage.setItem("quiz-settings", values)
    console.log(localStorage.getItem("quiz-settings"))
    getElement("message").innerHTML = "Settings updated"

}
</script>

</body>
</html>